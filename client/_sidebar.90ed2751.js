import{n,s as t}from"./_config.c880ad1e.js";const s=[];function e(e,o=n){let c;const l=[];function f(n){if(t(e,n)&&(e=n,c)){const n=!s.length;for(let n=0;n<l.length;n+=1){const t=l[n];t[1](),s.push(t,e)}if(n){for(let n=0;n<s.length;n+=2)s[n][0](s[n+1]);s.length=0}}}return{set:f,update:function(n){f(n(e))},subscribe:function(t,s=n){const i=[t,s];return l.push(i),1===l.length&&(c=o(f)||n),t(e),()=>{const n=l.indexOf(i);-1!==n&&l.splice(n,1),0===l.length&&(c(),c=null)}}}}const o=e(!1);export{o as s,e as w};
